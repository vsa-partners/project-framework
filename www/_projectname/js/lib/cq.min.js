/*******************************************************
c-qwncr JavaScript Sequencing Framework
v. 0.2
MIT License.

 - Jeremy Kahn    jkahn@vsapartners.com

Dependencies: none
*******************************************************/

(function(g){var b={},e={},c,d,f;c={createLock:function(a,c){b[a]=c?!0:!1;return this.isLocked(a)},destroyLock:function(a){return delete b[a]},lock:function(a){b[a]!==void 0&&(b[a]=!0)},unlock:function(a){b[a]!==void 0&&(b[a]=!1)},isLocked:function(a){if(typeof b[a]==="boolean")return b[a]},lockExists:function(a){return b[a]!==void 0}};d={start:function(a,b,d){if(!a)throw'cq.start: "sequenceName" not provided!';e.hasOwnProperty(a)&&(d=!!b,b=e[a]);c.lockExists(a)||c.createLock(a);return!c.isLocked(a)||
d===!0?(c.lock(a),typeof b==="function"&&b(a),!0):!1},end:function(a){if(!c.lockExists(a))throw"Error:  Calling cq.end() on "+a+", which does not exist.";c.unlock(a);c.destroyLock(a)},save:function(a,b){return e[a]=b},destroy:function(a){c.destroyLock(a);delete e[a]}};g.cq=new function(){};for(f in d)d.hasOwnProperty(f)&&(g.cq[f]=d[f])})(this);